newSubTaskBtn = document.querySelector('.submit-btn')
newSubTaskForm = document.querySelector('.submit-form')

function addSubTask(taskHTML) {
  newSubTaskBtn.parentElement.firstElementChild.insertAdjacentHTML('beforeend', taskHTML);
}

// -------------- [ SET CLASS ASSIGNMENT FOR GRAB ] ------------------
<% if @subtask.errors.any? %>
newSubTaskBtn.classList.toggle('active')
newSubTaskBtn.classList.toggle('submit-btn')

newSubTaskForm.classList.toggle('active')
newSubTaskForm.classList.toggle('submit-form')
<% else %>
addSubTask('<%= j render "subtasks/subtask", task: @task, subtask: @subtask %>');
newSubTaskBtn.classList.toggle('active')
newSubTaskBtn.classList.toggle('submit-btn')
newSubTaskForm.classList.toggle('active')
newSubTaskForm.classList.toggle('submit-form')
<% end %>

refresh('.overview-grab',`<%= render 'tasks/overview', trip: @trip %>`)

refresh('.progress-message[data-task-id="<%= @task.id %>"]',`<%= render "tasks/progress_message", task: @task %>`)

console.log(document.getElementById('check-<%= "#{@subtask.task.id}" %>'))
refreshById('check-<%= "#{@subtask.task.id}" %>',`<i class='far fa-<%= @subtask.task.status == true ? 'check-' : '' %>square' data-task-id = '<%= @subtask.task.id %>'></i>`)
